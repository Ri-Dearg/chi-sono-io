{% extends 'base/base.html' %} {% block head_title %}Home{% endblock%} {% load static %} {% block content %} {% if 'query' in request.GET %}
<h1 class="text-center heading-font text-primary">{{ request.GET.query }}</h1>
<hr />
{% endif %}
<div class="row infinite-container">
    {% if people %} {% for person in people %} {% include 'people/includes/person_box.html' %} {% endfor %} {% else %}
    <div class="col text-center">
        <h4 class="text-dark">Nessun Risultato</h4>
        <h2 class="text-primary heading-font">Conosci nostre altre persone?</h2>
        <a class="btn btn-lg btn-danger mt-4 w-25" href="{% url 'people:person-list' %}">Home</a>
    </div>
    {% endif %}
</div>

<button class="d-none" id="modal-trigger" data-toggle="modal" data-target="#person-modal"></button>

{% if people.has_next %} 
<a class="infinite-more-link d-none" href="{{ request.path }}?page={{ people.next_page_number }}"></a>
{% endif %}

<!-- The loading spinner for the scroll. -->
<div class="d-flex justify-content-center text-secondary bg-dark d-none mt-3">
    <div class="spinner-border infinite-loader" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

{% endblock%}

{% block modal%}
    <div class="detail-overlay modal fade mt-2 mt-md-auto" id="person-modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="person-modal" aria-hidden="true">  
        {% include 'people/includes/detail_modal.html' %}
    </div>
{% endblock%}

{% block postloadjs %} {{ block.super }}
<!-- Scripts for the infinite scroll feature. -->
<script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'js/infinite.min.js' %}"></script>
<script src="{% static 'js/infinite_settings.js' %}"></script>
<script>
ajaxModal()
</script>
{% endblock %}